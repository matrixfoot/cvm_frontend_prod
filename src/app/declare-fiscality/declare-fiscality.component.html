<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
</head>


<body>
    

<div class="container-fluid" >
  <fieldset>
    <legend>Déposer Votre Déclaration Fiscale</legend>
    <div class="container-fluid-disabled">
      <p style="text-align: center;">veuillez cocher pour afficher les sections convenables</p>
    <div id="check1" class="checkbox-container">
      
      <div class="checkbox-container">
        
        <div class="input-container" id="Check1">
          
          <label for="myCheck1">Ma Déclaration</label>
          <input type="checkbox" id="myCheck1" (click)="myFunction1()">
        </div>
        <div class="input-container" id="Check2">
          
          <label for="myCheck2">Une Déclaration D'Autrui</label>
          <input type="checkbox" id="myCheck2" (click)="myFunction2()">
        </div>
      </div>
    </div>
   </div>
      <div id="check2" style="display: none;" class="checkbox-container"> 
      
      <div class="checkbox-container">
        
        <div class="input-container" id="Check3">
          
          <label for="myCheck3">Personne Physique</label>
          <input type="checkbox" id="myCheck3" (click)="myFunction3()">
        </div>
        <div class="input-container" id="Check4">
          
          <label for="myCheck4">Personne Morale</label>
          <input type="checkbox" id="myCheck4" (click)="myFunction4()">
        </div>
      </div>
    </div> 
           
    <p style="text-align: center;" class="hidden">Veuillez Cochez Le Type De Déclaration Que Vous Souhaitez Faire</p>
    <fieldset>
      <legend>Types des déclarations:</legend> 
      
        <div class="row">
    
            <div class="col-sm-3" style="text-align: center;">
              <div><label for="myCheck7">Déclaration Mensuelle</label></div>
              <div><input type="checkbox" id="myCheck7" (click)="myFunction7()"[(ngModel)]="option55Value"></div>
            </div>
    
            <div class="col-sm-3" style="color: lightgrey;text-align: center;">
              <div><label for="myCheck5">Acomptes provisionnels</label></div>
              <div><input type="checkbox" id="myCheck5" (click)="myFunction5()"[(ngModel)]="option56Value"disabled></div>
            </div>
    
            <div class="col-sm-3" style="color: lightgrey;text-align: center;">
              <div><label for="myCheck6">Déclaration annuelle (I/R ou I/S)</label></div>
              <div><input type="checkbox" id="myCheck6" (click)="myFunction6()"[(ngModel)]="option57Value"disabled></div>
            </div>
            <div class="col-sm-3" style="color: lightgrey;text-align: center;">
              <div><label for="myCheck6">Déclaration de l'employeur</label></div>
              <div><input type="checkbox" id="myCheck6" (click)="myFunction6()"[(ngModel)]="option174Value"disabled></div>
          </div>
        </div>
        <div class="row">
    
          <div class="col-sm-4" style="color: lightgrey;text-align: center;">
            <div><label for="myCheck6">Liasse fiscale</label></div>
            <div><input type="checkbox" id="myCheck6" (click)="myFunction6()"[(ngModel)]="option176Value"disabled></div>
          </div>
  
          <div class="col-sm-4" style="color: lightgrey;text-align: center;">
            <div><label for="myCheck5">Déclaration trimestrielle des achats en suspension de T.V.A (Apurement des BC vsés)</label></div>
            <div><input type="checkbox" id="myCheck5" (click)="myFunction5()"[(ngModel)]="option175Value"disabled></div>
          </div>
  
          <div class="col-sm-4" style="color: lightgrey;text-align: center;">
            <div><label for="myCheck6">Déclaration trimestrielle des ventes en suspension des taxes sur le chiffre d'affaires</label></div>
            <div><input type="checkbox" id="myCheck6" (click)="myFunction6()"[(ngModel)]="option176Value"disabled></div>
          </div>
          
      </div>
        </fieldset>      
                    
                  

                  <div class="checkbox-container" id="datelist">
                     <div class="input-container" id="Year"> 
                        <i class="glyphicon glyphicon-time"></i>
                        <label for="year">Sélectionner année</label>
                        <select id="year" name="year"(change)="verifyfutur($event)"[(ngModel)]="option54Value">
                           <option></option>
                           <option value="2023">2023</option>
                           <option  value="2022">2022</option>
                           <option  value="2021">2021</option> 
                       </select>
                      </div>
                      <div class="input-container" id="Month"> 
                        <i class="glyphicon glyphicon-time"></i>
                        <label for="month">Sélectionner mois</label>
                        <select id="month" name="month" #cricket (change)="verify($event)"(change)="verifyfutur($event)"[(ngModel)]="option171Value">
                           <option></option>
                           <option value="01">(01)janvier</option>
                           <option value="02">(02)février</option>
                           <option value="03">(03)Mars</option>
                           <option value="04">(04)avril</option>
                           <option value="05">(05)Mai</option>
                           <option value="06">(06)juin</option>
                           <option value="07">(07)juillet</option>
                           <option value="08">(08)août</option>
                           <option value="09">(09)septembre</option>
                           <option value="10">(10)octobre</option>
                           <option value="11">(11)novembre</option>
                           <option value="12">(12)décembre</option>
                       </select>
                      </div>
                   
                  </div>
                <fieldset id="impotlist">
                  <legend>Liste Des Impôts à Déclarer:</legend> 
                  <table>
                    
                    <tbody>
                    <tr>
                      
                     <td style="text-align: center;"> 
                        <div><input type="checkbox" id="myCheck8" (click)="myFunction8()"[(ngModel)]="option48Value" /></div>
                        <div><label for="rb1">Retenue à La Source</label></div>
                     </td>
                     <td style="text-align: center;">
                        <div><input type="checkbox" id="myCheck9" (click)="myFunction9()"[(ngModel)]="option49Value" /></div>
                        <div><label for="rb1">TFP</label></div>
                      </td>
                      <td style="text-align: center;">
                        <div><input type="checkbox" id="myCheck10"(click)="myFunction10()"[(ngModel)]="option50Value" /></div>
                        <div><label for="rb1">Foprolos</label></div>
                      </td>
                      <td style="text-align: center;">
                        <div><input type="checkbox" id="myCheck11" (click)="myFunction11()"[(ngModel)]="option51Value" /></div>
                        <div><label for="rb1">TVA</label></div>
                      </td>
                      <td style="text-align: center;"*ngIf="activite==='Médecin'||activite==='Infirmier'||activite==='Masseur'||activite==='Physiothérapeute'||
            activite==='Ergothérapeute'||activite==='Psychomotricien'||activite==='Diététicien'||activite==='Orthophoniste'||activite==='Orthoptiste'
            ||activite==='Sage-femmes'">
                        <div><input type="checkbox" id="myCheck30" (click)="myFunction30()"[(ngModel)]="option172Value" /></div>
                        <div><label for="rb1">Fonds de soutien de la santé publique</label></div>
                      </td>
                      <td style="text-align: center;">
                        <div><input type="checkbox" id="myCheck12" (click)="myFunction12()"[(ngModel)]="option52Value" /></div>
                        <div><label for="rb1">Droit de timbre</label></div>
                      </td>
                      <td style="text-align: center;">
                        <div><input type="checkbox" id="myCheck13" (click)="myFunction13()"[(ngModel)]="option53Value" /></div>
                        <div><label for="rb1">TCL</label></div>
                      </td>
                     
                  </tr>
                  <tr id="verifrow">
                      
                    <td>
                      
                       <div><input *ngIf="showretenueverif===true" type="checkbox" id="myCheck24" (click)="myFunction24()"[(ngModel)]="option65Value" /></div>
                       <div><label  *ngIf="option65Value===true" style="color: green;">Validé</label></div>
                       <div><label  *ngIf="option65Value===false" style="color: red;">Non Validé</label></div>

                       
                    </td>
                    <td>
                       <div><input  *ngIf="showtfpverif===true" type="checkbox" id="myCheck25" (click)="myFunction25()"[(ngModel)]="option66Value" /></div>
                       <div><label *ngIf="option66Value===true" style="color: green;">Validé</label></div>
                       <div><label  *ngIf="option66Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                     <td>
                      <div><input *ngIf="showfoprolosverif===true" type="checkbox" id="myCheck26"(click)="myFunction26()"[(ngModel)]="option67Value" /></div>
                        <div><label *ngIf="option67Value===true" style="color: green;">Validé</label></div>
                        <div><label  *ngIf="option67Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                     <td>
                      <div><input *ngIf="showtvaverif===true" type="checkbox" id="myCheck27" (click)="myFunction27()"[(ngModel)]="option68Value" /></div>
                        <div><label *ngIf="option68Value===true" style="color: green;">Validé</label></div>
                        <div><label  *ngIf="option68Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                     <td style="text-align: center;"*ngIf="activite==='Médecin'||activite==='Infirmier'||activite==='Masseur'||activite==='Physiothérapeute'||
                     activite==='Ergothérapeute'||activite==='Psychomotricien'||activite==='Diététicien'||activite==='Orthophoniste'||activite==='Orthoptiste'
                     ||activite==='Sage-femmes'">
                      <div><input *ngIf="showfspverif===true" type="checkbox" id="myCheck31" (click)="myFunction31()"[(ngModel)]="option173Value" /></div>
                        <div><label *ngIf="option173Value===true" style="color: green;">Validé</label></div>
                        <div><label  *ngIf="option173Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                     <td>
                      <div><input *ngIf="showtimbreverif===true" type="checkbox" id="myCheck28" (click)="myFunction28()"[(ngModel)]="option69Value" /></div>
                        <div><label *ngIf="option69Value===true" style="color: green;">Validé</label></div>
                        <div><label  *ngIf="option69Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                     <td>
                      <div><input *ngIf="showtclverif===true" type="checkbox" id="myCheck29" (click)="myFunction29()"[(ngModel)]="option70Value" /></div>
                        <div><label *ngIf="option70Value===true" style="color: green;">Validé</label></div>
                        <div><label  *ngIf="option70Value===false" style="color: red;">Non Validé</label></div>

                     </td>
                    
                 </tr>
                    </tbody>
                  </table>
                </fieldset> 

                   <hr *ngIf="option55Value==true">
                   <div class="container-fluid"id="tabcontainer">
                    
                    <button id="savebutton" class="btn btn-success"*ngIf="option48Value===true||option49Value===true||option50Value===true||option51Value===true||option51Value===true||option52Value===true||option53Value===true" 
                    type="button" (click)="onSubmit()"><i class="fa fa-refresh fa-spin" *ngIf="loading"></i>Sauvegarder</button>
                    <button id="resetbutton" class="btn btn-secondary" type="button" (click)="restartform()"
                    *ngIf="option48Value===true||option49Value===true||option50Value===true||option51Value===true||option51Value===true||option52Value===true||option53Value===true">Réinitialiser tout</button>
                    <button id="recapbutton" type="button"class="btn btn-primary"(click)="openPopup()"
                    *ngIf="option48Value===true||option49Value===true||option50Value===true||option51Value===true||option51Value===true||option52Value===true||option53Value===true">Récapitulatif</button>
                    
                   
                      <div
                        class="modal"
                        tabindex="-1"
                        role="dialog"
                        [ngStyle]="{'display':displayStyle}">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header" style="text-align: center;">
                              <h4 class="modal-title">Liste Des Impôts Introduits</h4>
                              <div> <label for=""> Mois:<strong> {{option171Value}}</strong></label>
                                <label for=""> Année:<strong> {{option54Value}}</strong></label></div>
                            </div>
                            <div class="modal-body">
                              <table class="table table-striped">
                                <thead>
                                  <tr>
                                    <th>Type Impôt</th>
                                    <th>Montant</th>
                                    
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngIf="showretenuetab===true">
                                    <td> Retenue à la source</td>
                                    <td>{{totalretenueammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  <tr *ngIf="showtfptab===true">
                                    <td> TFP</td>
                                    <td *ngIf="tfpareporter > 0">{{totaltfpammount | number:'1.3-3'| removeComma}} / ({{tfpareporter |number:'1.3-3'}}) / <strong> R</strong></td>
                                    <td *ngIf="tfpapayer >=0">{{totaltfpammount | number:'1.3-3'| removeComma}} / <strong> P</strong></td>

                                  </tr>
                                  <tr *ngIf="showfoprolostab===true">
                                    <td> Foprolos</td>
                                    <td>{{totalfoprolosammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  <tr *ngIf="showtvatab===true">
                                    <td> TVA</td>
                                    <td *ngIf="totaltvaammount >= 0">{{totaltvaammount | number:'1.3-3'| removeComma}} / <strong> P</strong></td>
                                    <td *ngIf="totalreporttvaammount > 0 && totaltvaammount == 0">{{totaltvaammount | number:'1.3-3'| removeComma}} / ({{totalreporttvaammount |number:'1.3-3'}}) / <strong> R</strong></td>
                                    
                                  </tr>
                                  <tr *ngIf="showfsptab===true">
                                    <td> FSSP</td>
                                    <td>{{totalfspammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  <tr *ngIf="showtimbretab===true">
                                    <td> Droit De Timbre</td>
                                    <td>{{totaltimbreammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  <tr *ngIf="showtcltab===true">
                                    <td> TCL</td>
                                    <td>{{totaltclammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  
                                  <tr>
                                    <td>Minimum de Perception</td>
                                    <td>{{minimumperceptionammount | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                  <tr>
                                    <td>Total à payer</td>
                                    <td>{{totaldeclaration | number:'1.3-3'| removeComma}}</td>
                                    
                                  </tr>
                                </tbody>
                              </table>
                        
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-danger" 
                                      (click)="closePopup()">
                                Close
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    <mat-tab-group (selectedTabChange)="onTabClick($event)">
                    <!-- retenue à la source tab -->
                    
                      <mat-tab label="Retenue à La Source" *ngIf="showretenuetab===true"> 
                        <!-- 1ère étape de choice-->
                        <div title="Sélectionner la rubrique convenable"class="input-container"id="retenuelist">
                          <label for="retenuelist">Retenue à La Source sur:</label>
                          <i class="fas fa-wallet icon-special"></i>
                          <select #cricket (change)="update($event)"[(ngModel)]="optionValue">
                          <option value="default"> </option>
                          <option *ngFor="let retenue of retenues" [value]="retenue">
                              {{retenue}}
                          </option>
                      </select>
                      </div>
                      <div class="input-container"id="selectretenue"*ngIf="optionValue == 'Autre'">
                        <label for="retenue"> Total des Retenues à La Source sur:</label>
                        <i class="fas fa-wallet icon-special"></i>
                        <input class="input-field" type="text" placeholder="Renseigner l'intitulé de la rubrique"[(ngModel)]="option2Value" id="selectretenue" >
                      </div>
                      <hr *ngIf="optionValue">
                       <!-- autre form-->
                       <div class="container-fluid"*ngIf="optionValue == 'Autre'">
                         <fieldset >
                          <legend *ngIf="optionValue == 'Autre'"> {{option2Value}}</legend>
                        <form [formGroup]="autreform"(ngSubmit)="logValue()">
                          <h2 *ngIf="optionValue !== 'Autre'">{{optionValue}}</h2>
                          <button type="button" class="btn btn-primary mb-2" (click)="addammount()">Ajouter Montant</button>
                      <fieldset formArrayName="ammounts" 
                        *ngFor="let ammount of ammountControls; let i = index;">
                        <div [formGroupName]="i">
                          <div class="row">
                            <div class="col-6">
                                <h4>Rubrique {{i + 1}}</h4>
                                <div class="col-6 text-right">
                                  <button type="button" class="btn btn-danger btn-sm" (click)="removeammount(i)">Supprimer Montant</button>
                              </div>
                            </div>
                            <div class="container-fluid">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Titre</label>
                                      <input type="text" class="form-control" formControlName="title" placeholder="désignation montant"/>
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Montant</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Description</label>
                                    <input type="text" class="form-control" formControlName="description" placeholder="décrivez Ce Montant"/>
                                  </div>
                            </div>
                            </div>
                          </div>
                        </div>
                          </fieldset>
                          <div class="text-right">
                            <input type="submit" class="hidden" value="Submit"/>
                        </div>
                        </form>
                      </fieldset>
                      </div>
                      <!-- traitement et salaires form-->
                      
                      <div class="container-fluid"*ngIf="optionValue == 'traitement et salaires'">
                        <form  [formGroup]="standardtraitementsalaireform">
                          
                          
                          <fieldset>
                            <legend>{{optionValue}}</legend>
                            <div class="row">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Bruts</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" (blur)="setThreeNumberDecimal($event)"formControlName="brutsalary"placeholder="Montant en DT et à 3 chiffres après la virgule"  />
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Imposables</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="imposalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Retenues à La Source</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="retenuesalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Contribution sociale de solidarité</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="solidaritycontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      min="0" oninput="validity.valid||(value='');"/>
                                </div> 
                          </div>
                          
                            </div>
                           </fieldset>
                        </form>
                      </div>
<!-- location, commission, courtage et vacation section-->
                    <div class="container-fluid"*ngIf="optionValue == 'location, commission, courtage et vacation'">
                        <fieldset>
                          <legend>{{optionValue}}</legend>
                        
                      <table class="table table-striped">
                        <thead>
                          <tr>
                      
                            
          <th>Rubrique location, commission, courtage et vacation</th>
          <th>Total des montants bruts</th>
          <th>Taux</th>
          <th>Montant total des retenues à la source</th>
          <th>Total des montants nets</th>
          
                           
                            
                          </tr>
                          </thead>
                          
                        <tbody>
<!-- location, commission, courtage et vacation (résidents et personnes phyisiques)form--> 
                        <tr id="tvaform" [formGroup]="standardlocationresidentesphysiqueform">
                          <td>
                            <p> Servis aux personnes physiques résidentes </p>
                          </td>
                           <td>  <div class="col-6">
                            
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6">
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                            
                      </div></td>
                      <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
                        
                            <input type="number"  class="form-control"  formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                        
                  </div></td>
                  
                      </tr>
                      <!-- location, commission, courtage et vacation (résidents et personnes morales)form--> 
                      <tr id="tvaform" [formGroup]="standardlocationresidentesmoraleform">
                        <td>
                          <p> Servis aux personnes morales résidentes </p>
                        </td>
                         <td>  <div class="col-6">
                          
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6">
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                          
                    </div></td>
                    <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                      
                </div></td>
                
                    </tr>
                     <!-- location, commission, courtage et vacation (non résidents et personnes physiques)form--> 
                     <tr id="tvaform" [formGroup]="standardlocationnonresidentesphysiquesform">
                      <td>
                        <p> Servis aux personnes physiques non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>
                    <!-- location, commission, courtage et vacation (non résidents et personnes morales)form--> 
                    <tr id="tvaform" [formGroup]="standardlocationnonresidentesmoralesform">
                      <td>
                        <p> Servis aux personnes morales non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>  
                      </table>
                    </fieldset>
  
    
       
  
  

                    </div>
<!-- honoraires section-->
<div class="container-fluid"*ngIf="optionValue == 'honoraire'">
<fieldset>
    <legend>{{optionValue}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique honoraires</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- honoraires (servis aux personnes physiques et soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquereelform">
    <td>
      <p> Servis aux personnes physiques soumis au régime réel </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6">
                          
                              <input type="text" class="form-control" value="3%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- honoraires (servis aux personnes physiques et non soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquenonreelform">
  <td>
    <p> Servis aux personnes physiques non soumises au régime réel </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6">
                          
                              <input type="text" class="form-control" value="10%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux sociétés et aux groupements)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairegroupementsform">
  <td>
    <p> Servis aux aux sociétés et aux groupements </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
</table>
</fieldset>

      
        </div>
<!-- mont supérieures à 1000 dt section-->
<div class="container-fluid"*ngIf="optionValue == 'montant supérieur à 1000 dt'">
<fieldset>
    <legend>{{optionValue}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique montants supérieures à 1000 dt</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 15%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant15form">
    <td>
      <p> établissements soumis à l'i/s au taux de 15% </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 10%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant10form">
  <td>
    <p> établissements soumis à l'i/s au taux de 10% </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements individuels et éligible à la réduction des 2/3 des revenus)form-->                    
<tr id="tvaform" [formGroup]="standardmontantindividuelform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section  (autre établissements)form-->                    
<tr id="tvaform" [formGroup]="standardmontantautreform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>  
</table>
</fieldset>    

</div>
<!-- 1ère étape de décision-->
<hr style="height:2px;border-width:0;color:gray;background-color:gray">
                      <div title="indiquer votre choix"class="col-6"*ngIf="optionValue ">
                        <div class="form-group">
                        <label for="choice"> Avez vous d'autres retenues à la source à déclarer:</label>    
                        <div id="block1"><input type="checkbox"  id="choice"class="input-field"(click)="myFunction14()"  [(ngModel)]="option4Value">Oui</div>  
                        <div id="block2"><input type="checkbox"  id="choice1"class="input-field" [(ngModel)]="option139Value"(click)="myFunction15()">Non</div>
                  </div>
                </div>
<!-- 2ème étape de choice-->

                      <div title="Sélectionner la rubrique convenable"class="input-container"id="retenuelist"*ngIf="option4Value">
                        <label for="retenuelist">Retenue à La Source sur:</label>
                        <i class="fas fa-wallet icon-special"></i>
                        <select #cricket (change)="update($event)"[(ngModel)]="option3Value">
                          <option value="default"> </option>
                          <option *ngFor="let retenue of findfiltredretenue(retenues)" [value]="retenue">
                              {{retenue}}
                          </option>
                      </select>
                    </div>

                    <div class="input-container"id="selectretenue"*ngIf="option3Value == 'Autre'">
                      <label for="retenue"> Total des Retenues à La Source sur:</label>
                      <i class="fas fa-wallet icon-special"></i>
                      <input class="input-field" type="text" placeholder="Renseigner l'intitulé de la rubrique" [(ngModel)]="option11Value"id="selectretenue" >
                    </div>
                    <hr>
                    <h2 *ngIf="option3Value == 'Autre'">{{option11Value}}</h2>
                       <!-- autre form-->
                      
                       <div class="container-fluid"*ngIf="option3Value == 'Autre' &&option4Value">
                         
                        <form [formGroup]="autreform"(ngSubmit)="logValue()">
                          
                          <button type="button" class="btn btn-primary mb-2" (click)="addammount()">Ajouter Montant</button>
                      <fieldset formArrayName="ammounts" 
                        *ngFor="let ammount of ammountControls; let i = index;">
                        <div [formGroupName]="i">
                          <div class="row">
                            <div class="col-6">
                                <h4>Rubrique {{i + 1}}</h4>
                                <div class="col-6 text-right">
                                  <button type="button" class="btn btn-danger btn-sm" (click)="removeammount(i)">Supprimer Montant</button>
                              </div>
                            </div>
                            <div class="container-fluid">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Titre</label>
                                      <input type="text" class="form-control" formControlName="title" placeholder="désignation montant"/>
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Montant</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Description</label>
                                    <input type="text" class="form-control" formControlName="description" placeholder="décrivez Ce Montant"/>
                                  </div>
                            </div>
                            </div>
                          </div>
                        </div>
                          </fieldset>

                          <div class="text-right">
                              <input type="submit" class="hidden" value="Submit"/>
                          </div>
                        </form>
                      </div>
                     <!-- traitement et salaires form-->
                      
                     <div class="container-fluid"*ngIf="option3Value == 'traitement et salaires' &&option4Value">
                      <form  [formGroup]="standardtraitementsalaireform">
                        
                        
                        <fieldset>
                          <legend>{{option3Value}}</legend>
                          <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Salaires Bruts</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutsalary" placeholder="Montant en DT et à 3 chiffres après la virgule"  />
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Salaires Imposables</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="imposalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                    />
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Total des Retenues à La Source</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="retenuesalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                    />
                                </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group">
                                <label>Contribution sociale de solidarité</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="solidaritycontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                    min="0" oninput="validity.valid||(value='');"/>
                              </div> 
                        </div>
                        
                          </div>
                         </fieldset>
                      </form>
                    </div>
<!-- location, commission, courtage et vacation section-->
                  <div class="container-fluid"*ngIf="option3Value == 'location, commission, courtage et vacation'&&option4Value">
                      <fieldset>
                        <legend>{{option3Value}}</legend>
                      
                    <table class="table table-striped">
                      <thead>
                        <tr>
                    
                          
        <th>Rubrique location, commission, courtage et vacation</th>
        <th>Total des montants bruts</th>
        <th>Taux</th>
        <th>Montant total des retenues à la source</th>
        <th>Total des montants nets</th>
        
                         
                          
                        </tr>
                        </thead>
                        
                      <tbody>
<!-- location, commission, courtage et vacation (résidents et personnes phyisiques)form--> 
                      <tr id="tvaform" [formGroup]="standardlocationresidentesphysiqueform">
                        <td>
                          <p> Servis aux personnes physiques résidentes </p>
                        </td>
                         <td>  <div class="col-6">
                          
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                          
                    </div></td>
                    <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                      
                </div></td>
                
                    </tr>
                    <!-- location, commission, courtage et vacation (résidents et personnes morales)form--> 
                    <tr id="tvaform" [formGroup]="standardlocationresidentesmoraleform">
                      <td>
                        <p> Servis aux personnes morales résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>
                   <!-- location, commission, courtage et vacation (non résidents et personnes physiques)form--> 
                   <tr id="tvaform" [formGroup]="standardlocationnonresidentesphysiquesform">
                    <td>
                      <p> Servis aux personnes physiques non résidentes </p>
                    </td>
                     <td>  <div class="col-6">
                      
                          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                        <input type="text" class="form-control" value="15%" disabled/>
                      
                </div></td>
                <td><div class="col-6">
                  
                      <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
              </div></td>
              <td><div class="col-6">
                
                     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                  
                  
            </div></td>
            
                </tr>
                  <!-- location, commission, courtage et vacation (non résidents et personnes morales)form--> 
                  <tr id="tvaform" [formGroup]="standardlocationnonresidentesmoralesform">
                    <td>
                      <p> Servis aux personnes morales non résidentes </p>
                    </td>
                     <td>  <div class="col-6">
                      
                          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                        <input type="text" class="form-control" value="15%" disabled/>
                      
                </div></td>
                <td><div class="col-6">
                  
                      <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
              </div></td>
              <td><div class="col-6">
                
                     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                  
                  
            </div></td>
            
                </tr>  
                    </table>
                  </fieldset>

  
     



                  </div>
<!-- honoraires section-->
<div class="container-fluid"*ngIf="option3Value == 'honoraire'&&option4Value">
<fieldset>
  <legend>{{option3Value}}</legend>

<table class="table table-striped">
<thead>
  <tr>

    
<th>Rubrique honoraires</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

   
    
  </tr>
  </thead>
  
<tbody>
<!-- honoraires (servis aux personnes physiques et soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquereelform">
  <td>
    <p> Servis aux personnes physiques soumis au régime réel </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux personnes physiques et non soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquenonreelform">
<td>
  <p> Servis aux personnes physiques non soumises au régime réel </p>
</td>
 <td>  <div class="col-6">
  
      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

    <input type="text" class="form-control" value="10%" disabled/>
  
</div></td>
<td><div class="col-6">

  <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>

</div></td>
<td><div class="col-6">

 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux sociétés et aux groupements)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairegroupementsform">
<td>
  <p> Servis aux aux sociétés et aux groupements </p>
</td>
 <td>  <div class="col-6">
  
      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

    <input type="text" class="form-control" value="3%" disabled/>
  
</div></td>
<td><div class="col-6">

  <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>

</div></td>
<td><div class="col-6">

 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
</table>
</fieldset>

    
      </div>
<!-- mont supérieures à 1000 dt section-->
<div class="container-fluid"*ngIf="option3Value == 'montant supérieur à 1000 dt'&&option4Value">
<fieldset>
  <legend>{{option3Value}}</legend>

<table class="table table-striped">
<thead>
  <tr>

    
<th>Rubrique montants supérieures à 1000 dt</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

   
    
  </tr>
  </thead>
  
<tbody>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 15%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant15form">
  <td>
    <p> établissements soumis à l'i/s au taux de 15% </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 10%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant10form">
<td>
  <p> établissements soumis à l'i/s au taux de 10% </p>
</td>
 <td>  <div class="col-6">
  
      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

    <input type="text" class="form-control" value="0.5%" disabled/>
  
</div></td>
<td><div class="col-6">

  <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>

</div></td>
<td><div class="col-6">

 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements individuels et éligible à la réduction des 2/3 des revenus)form-->                    
<tr id="tvaform" [formGroup]="standardmontantindividuelform">
<td>
  <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
</td>
 <td>  <div class="col-6">
  
      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

    <input type="text" class="form-control" value="0.5%" disabled/>
  
</div></td>
<td><div class="col-6">

  <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>

</div></td>
<td><div class="col-6">

 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section  (autre établissements)form-->                    
<tr id="tvaform" [formGroup]="standardmontantautreform">
<td>
  <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
</td>
 <td>  <div class="col-6">
  
      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

    <input type="text" class="form-control" value="1.5%" disabled/>
  
</div></td>
<td><div class="col-6">

  <input type="number"  class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>

</div></td>
<td><div class="col-6">

 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>  
</table>
</fieldset>    

</div>                  
<!-- 2èmee étape de décision-->
<hr style="height:2px;border-width:0;color:gray;background-color:gray">
                      <div title="indiquer votre choix"class="col-6"*ngIf="option4Value">
                        <div class="form-group">
                        <label for="choice"> Avez vous d'autres retenues à la source à déclarer:</label>    
                        <div id="block3"><input type="checkbox"  class="input-field" id="choice2" (click)="myFunction16()"[(ngModel)]="option18Value" name="choice">Oui</div>  
                        <div id="block4"><input type="checkbox"  class="input-field" id="choice3" (click)="myFunction17()"[(ngModel)]="option60Value" name="choice">Non</div>
                  </div>
                </div>
<!-- 3ème étape de choice-->
                      <div title="Sélectionner la rubrique convenable"class="input-container"id="retenuelist"*ngIf="option18Value">
                        <label for="retenuelist">Retenue à La Source sur:</label>
                        <i class="fas fa-wallet icon-special"></i>
                        <select #cricket (change)="update($event)"[(ngModel)]="option19Value">
                          <option value="default"> </option>
                          <option *ngFor="let retenue of findfiltredretenue2(retenues)" [value]="retenue">
                              {{retenue}}
                          </option>
                      </select>
                    </div>

                    <div class="input-container"id="selectretenue"*ngIf="option19Value == 'Autre'">
                      <label for="retenue"> Total des Retenues à La Source sur:</label>
                      <i class="fas fa-wallet icon-special"></i>
                      <input class="input-field" type="text" placeholder="Renseigner l'intitulé de la rubrique" [(ngModel)]="option20Value"id="selectretenue" >
                    </div>
                    <hr>
                    <h2 *ngIf="option19Value == 'Autre'">{{option20Value}}</h2>
                    <!-- autre form-->
                      
                    <div class="container-fluid"*ngIf="option19Value == 'Autre'&&option18Value">
                         
                      <form [formGroup]="autreform"(ngSubmit)="logValue()">
                        
                        <button type="button" class="btn btn-primary mb-2" (click)="addammount()">Ajouter Montant</button>
                    <fieldset formArrayName="ammounts" 
                      *ngFor="let ammount of ammountControls; let i = index;">
                      <div [formGroupName]="i">
                        <div class="row">
                          <div class="col-6">
                              <h4>Rubrique {{i + 1}}</h4>
                              <div class="col-6 text-right">
                                <button type="button" class="btn btn-danger btn-sm" (click)="removeammount(i)">Supprimer Montant</button>
                            </div>
                          </div>
                          <div class="container-fluid">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Titre</label>
                                    <input type="text" class="form-control" formControlName="title" placeholder="désignation montant"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Montant</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Description</label>
                                  <input type="text" class="form-control" formControlName="description" placeholder="décrivez Ce Montant"/>
                                </div>
                          </div>
                          </div>
                        </div>
                      </div>
                        </fieldset>

                        <div class="text-right">
                            <input type="submit" class="hidden" value="Submit"/>
                        </div>
                      </form>
                    </div>
                    <!-- traitement et salaires form-->                 
                      
                      <div class="container-fluid"*ngIf="option19Value == 'traitement et salaires'&&option18Value">
                        <form  [formGroup]="standardtraitementsalaireform">
                          
                          
                          <fieldset>
                            <legend>{{option19Value}}</legend>
                            <div class="row">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Bruts</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutsalary" placeholder="Montant en DT et à 3 chiffres après la virgule"  />
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Imposables</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="imposalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Retenues à La Source</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="retenuesalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Contribution sociale de solidarité</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="solidaritycontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      min="0" oninput="validity.valid||(value='');"/>
                                </div> 
                          </div>
                          
                            </div>
                           </fieldset>
                        </form>
                      </div>
<!-- location, commission, courtage et vacation section-->
                    <div class="container-fluid"*ngIf="option19Value == 'location, commission, courtage et vacation'&&option18Value">
                        <fieldset>
                          <legend>{{option19Value}}</legend>
                        
                      <table class="table table-striped">
                        <thead>
                          <tr>
                      
                            
          <th>Rubrique location, commission, courtage et vacation</th>
          <th>Total des montants bruts</th>
          <th>Taux</th>
          <th>Montant total des retenues à la source</th>
          <th>Total des montants nets</th>
          
                           
                            
                          </tr>
                          </thead>
                          
                        <tbody>
<!-- location, commission, courtage et vacation (résidents et personnes phyisiques)form--> 
                        <tr id="tvaform" [formGroup]="standardlocationresidentesphysiqueform">
                          <td>
                            <p> Servis aux personnes physiques résidentes </p>
                          </td>
                           <td>  <div class="col-6">
                            
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                            
                      </div></td>
                      <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                        
                  </div></td>
                  
                      </tr>
                      <!-- location, commission, courtage et vacation (résidents et personnes morales)form--> 
                      <tr id="tvaform" [formGroup]="standardlocationresidentesmoraleform">
                        <td>
                          <p> Servis aux personnes morales résidentes </p>
                        </td>
                         <td>  <div class="col-6">
                          
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                          
                    </div></td>
                    <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                      
                </div></td>
                
                    </tr>
                     <!-- location, commission, courtage et vacation (non résidents et personnes physiques)form--> 
                     <tr id="tvaform" [formGroup]="standardlocationnonresidentesphysiquesform">
                      <td>
                        <p> Servis aux personnes physiques non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>
                    <!-- location, commission, courtage et vacation (non résidents et personnes morales)form--> 
                    <tr id="tvaform" [formGroup]="standardlocationnonresidentesmoralesform">
                      <td>
                        <p> Servis aux personnes morales non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>  
                      </table>
                    </fieldset>
  
    
       
  
  

                    </div>
<!-- honoraires section-->
<div class="container-fluid"*ngIf="option19Value == 'honoraire'&&option18Value">
<fieldset>
    <legend>{{option19Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique honoraires</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- honoraires (servis aux personnes physiques et soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquereelform">
    <td>
      <p> Servis aux personnes physiques soumis au régime réel </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- honoraires (servis aux personnes physiques et non soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquenonreelform">
  <td>
    <p> Servis aux personnes physiques non soumises au régime réel </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux sociétés et aux groupements)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairegroupementsform">
  <td>
    <p> Servis aux aux sociétés et aux groupements </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
</table>
</fieldset>

      
        </div>
<!-- mont supérieures à 1000 dt section-->
<div class="container-fluid"*ngIf="option19Value == 'montant supérieur à 1000 dt'&&option18Value">
<fieldset>
    <legend>{{option19Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique montants supérieures à 1000 dt</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 15%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant15form">
    <td>
      <p> établissements soumis à l'i/s au taux de 15% </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 10%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant10form">
  <td>
    <p> établissements soumis à l'i/s au taux de 10% </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements individuels et éligible à la réduction des 2/3 des revenus)form-->                    
<tr id="tvaform" [formGroup]="standardmontantindividuelform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section  (autre établissements)form-->                    
<tr id="tvaform" [formGroup]="standardmontantautreform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>  
</table>
</fieldset>    

</div>                   
<!-- 3èmee étape de décision-->
<hr style="height:2px;border-width:0;color:gray;background-color:gray">
                      <div title="indiquer votre choix"class="col-6"*ngIf="option18Value">
                        <div class="form-group">
                        <label for="choice"> Avez vous d'autres retenues à la source à déclarer:</label> 
                        <div id="block5"><input type="checkbox"  class="input-field" id="choice4" (click)="myFunction18()"[(ngModel)]="option27Value" name="choice">Oui</div>  
                          <div id="block6"><input type="checkbox"  class="input-field" id="choice5" (click)="myFunction19()"[(ngModel)]="option61Value" name="choice">Non</div>  
                        
                  </div>
                </div>
<!-- 4ème étape de choice-->
                      <div title="Sélectionner la rubrique convenable"class="input-container"id="retenuelist"*ngIf="option27Value">
                        <label for="retenuelist">Retenue à La Source sur:</label>
                        <i class="fas fa-wallet icon-special"></i>
                        <select #cricket (change)="update($event)"[(ngModel)]="option29Value">
                          <option value="default"> </option>
                          <option *ngFor="let retenue of findfiltredretenue3(retenues)" [value]="retenue">
                              {{retenue}}
                          </option>
                      </select>
                    </div>

                    <div class="input-container"id="selectretenue"*ngIf="option29Value == 'Autre'">
                      <label for="retenue"> Total des Retenues à La Source sur:</label>
                      <i class="fas fa-wallet icon-special"></i>
                      <input class="input-field" type="text" placeholder="Renseigner l'intitulé de la rubrique" [(ngModel)]="option11Value"id="selectretenue" >
                    </div>
                    <hr>
                    <h2 *ngIf="option29Value == 'Autre'">{{option29Value}}</h2>
                    <!-- autre form-->
                      
                    <div class="container-fluid"*ngIf="option29Value == 'Autre'&&option27Value">
                         
                      <form [formGroup]="autreform"(ngSubmit)="logValue()">
                        
                        <button type="button" class="btn btn-primary mb-2" (click)="addammount()">Ajouter Montant</button>
                    <fieldset formArrayName="ammounts" 
                      *ngFor="let ammount of ammountControls; let i = index;">
                      <div [formGroupName]="i">
                        <div class="row">
                          <div class="col-6">
                              <h4>Rubrique {{i + 1}}</h4>
                              <div class="col-6 text-right">
                                <button type="button" class="btn btn-danger btn-sm" (click)="removeammount(i)">Supprimer Montant</button>
                            </div>
                          </div>
                          <div class="container-fluid">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Titre</label>
                                    <input type="text" class="form-control" formControlName="title" placeholder="désignation montant"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Montant</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Description</label>
                                  <input type="text" class="form-control" formControlName="description" placeholder="décrivez Ce Montant"/>
                                </div>
                          </div>
                          </div>
                        </div>
                      </div>
                        </fieldset>

                        <div class="text-right">
                            <input type="submit" class="hidden" value="Submit"/>
                        </div>
                      </form>
                    </div>
                      <!-- traitement et salaires form-->
                      
                      <div class="container-fluid"*ngIf="option29Value == 'traitement et salaires'&&option27Value">
                        <form  [formGroup]="standardtraitementsalaireform">
                          
                          
                          <fieldset>
                            <legend>{{option29Value}}</legend>
                            <div class="row">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Bruts</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutsalary" placeholder="Montant en DT et à 3 chiffres après la virgule"  />
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Imposables</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="imposalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Retenues à La Source</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="retenuesalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Contribution sociale de solidarité</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="solidaritycontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      min="0" oninput="validity.valid||(value='');"/>
                                </div> 
                          </div>
                          
                            </div>
                           </fieldset>
                        </form>
                      </div>
<!-- location, commission, courtage et vacation section-->
                    <div class="container-fluid"*ngIf="option29Value == 'location, commission, courtage et vacation'&&option27Value">
                        <fieldset>
                          <legend>{{option29Value}}</legend>
                        
                      <table class="table table-striped">
                        <thead>
                          <tr>
                      
                            
          <th>Rubrique location, commission, courtage et vacation</th>
          <th>Total des montants bruts</th>
          <th>Taux</th>
          <th>Montant total des retenues à la source</th>
          <th>Total des montants nets</th>
          
                           
                            
                          </tr>
                          </thead>
                          
                        <tbody>
<!-- location, commission, courtage et vacation (résidents et personnes phyisiques)form--> 
                        <tr id="tvaform" [formGroup]="standardlocationresidentesphysiqueform">
                          <td>
                            <p> Servis aux personnes physiques résidentes </p>
                          </td>
                           <td>  <div class="col-6">
                            
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                            
                      </div></td>
                      <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                        
                  </div></td>
                  
                      </tr>
                      <!-- location, commission, courtage et vacation (résidents et personnes morales)form--> 
                      <tr id="tvaform" [formGroup]="standardlocationresidentesmoraleform">
                        <td>
                          <p> Servis aux personnes morales résidentes </p>
                        </td>
                         <td>  <div class="col-6">
                          
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                          
                    </div></td>
                    <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                      
                </div></td>
                
                    </tr>
                     <!-- location, commission, courtage et vacation (non résidents et personnes physiques)form--> 
                     <tr id="tvaform" [formGroup]="standardlocationnonresidentesphysiquesform">
                      <td>
                        <p> Servis aux personnes physiques non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>
                    <!-- location, commission, courtage et vacation (non résidents et personnes morales)form--> 
                    <tr id="tvaform" [formGroup]="standardlocationnonresidentesmoralesform">
                      <td>
                        <p> Servis aux personnes morales non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>  
                      </table>
                    </fieldset>
  
    
       
  
  

                    </div>
<!-- honoraires section-->
<div class="container-fluid"*ngIf="option29Value == 'honoraire'&&option27Value">
<fieldset>
    <legend>{{option29Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique honoraires</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- honoraires (servis aux personnes physiques et soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquereelform">
    <td>
      <p> Servis aux personnes physiques soumis au régime réel </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- honoraires (servis aux personnes physiques et non soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquenonreelform">
  <td>
    <p> Servis aux personnes physiques non soumises au régime réel </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux sociétés et aux groupements)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairegroupementsform">
  <td>
    <p> Servis aux aux sociétés et aux groupements </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
</table>
</fieldset>

      
        </div>
<!-- mont supérieures à 1000 dt section-->
<div class="container-fluid"*ngIf="option29Value == 'montant supérieur à 1000 dt'&&option27Value">
<fieldset>
    <legend>{{option29Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique montants supérieures à 1000 dt</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 15%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant15form">
    <td>
      <p> établissements soumis à l'i/s au taux de 15% </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 10%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant10form">
  <td>
    <p> établissements soumis à l'i/s au taux de 10% </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements individuels et éligible à la réduction des 2/3 des revenus)form-->                    
<tr id="tvaform" [formGroup]="standardmontantindividuelform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section  (autre établissements)form-->                    
<tr id="tvaform" [formGroup]="standardmontantautreform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>  
</table>
</fieldset>    

</div>                   
<!-- 4èmee étape de décision-->
<hr style="height:2px;border-width:0;color:gray;background-color:gray">
                      <div title="indiquer votre choix"class="col-6"*ngIf="option27Value">
                        <div class="form-group">
                        <label for="choice"> Avez vous d'autres retenues à la source à déclarer:</label>
                        <div id="block7"><input type="checkbox"  class="input-field" id="choice6" (click)="myFunction20()"[(ngModel)]="option38Value" name="choice">Oui</div>  
                        <div id="block8"><input type="checkbox"  class="input-field" id="choice7" (click)="myFunction21()"[(ngModel)]="option62Value" name="choice">Non</div>     
                        
                  </div>
                </div>
<!-- 5ème étape de choice-->
                      <div title="Sélectionner la rubrique convenable"class="input-container"id="retenuelist"*ngIf="option38Value">
                        <label for="retenuelist">Retenue à La Source sur:</label>
                        <i class="fas fa-wallet icon-special"></i>
                        <select #cricket (change)="update($event)"[(ngModel)]="option40Value">
                          <option value="default"> </option>
                          <option *ngFor="let retenue of findfiltredretenue4(retenues)" [value]="retenue">
                              {{retenue}}
                          </option>
                      </select>
                    </div>
                    <div class="input-container"id="selectretenue"*ngIf="option40Value == 'Autre'">
                      <label for="retenue"> Total des Retenues à La Source sur:</label>
                      <i class="fas fa-wallet icon-special"></i>
                      <input class="input-field" type="text" placeholder="Renseigner l'intitulé de la rubrique" [(ngModel)]="option41Value"id="selectretenue" >
                    </div>
                    <hr>
                    <h2 *ngIf="option40Value == 'Autre'">{{option40Value}}</h2>
                    <!-- autre form-->
                      
                    <div class="container-fluid"*ngIf="option40Value == 'Autre'&&option38Value">
                         
                      <form [formGroup]="autreform"(ngSubmit)="logValue()">
                        
                        <button type="button" class="btn btn-primary mb-2" (click)="addammount()">Ajouter Montant</button>
                    <fieldset formArrayName="ammounts" 
                      *ngFor="let ammount of ammountControls; let i = index;">
                      <div [formGroupName]="i">
                        <div class="row">
                          <div class="col-6">
                              <h4>Rubrique {{i + 1}}</h4>
                              <div class="col-6 text-right">
                                <button type="button" class="btn btn-danger btn-sm" (click)="removeammount(i)">Supprimer Montant</button>
                            </div>
                          </div>
                          <div class="container-fluid">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Titre</label>
                                    <input type="text" class="form-control" formControlName="title" placeholder="désignation montant"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Montant</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Description</label>
                                  <input type="text" class="form-control" formControlName="description" placeholder="décrivez Ce Montant"/>
                                </div>
                          </div>
                          </div>
                        </div>
                      </div>
                        </fieldset>

                        <div class="text-right">
                            <input type="submit" class="hidden" value="Submit"/>
                        </div>
                      </form>
                    </div>
                      <!-- traitement et salaires form-->
                      
                      <div class="container-fluid"*ngIf="option40Value == 'traitement et salaires'&&option38Value">
                        <form  [formGroup]="standardtraitementsalaireform">
                          
                          
                          <fieldset>
                            <legend>{{option40Value}}</legend>
                            <div class="row">
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Bruts</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutsalary" placeholder="Montant en DT et à 3 chiffres après la virgule"  />
                                    </div>
                              </div>
                              <div class="col-6">
                                  <div class="form-group">
                                      <label>Total des Salaires Imposables</label>
                                      <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="imposalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                    </div>
                              </div>
                              <div class="col-6">
                                <div class="form-group">
                                    <label>Total des Retenues à La Source</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="retenuesalary" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      />
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Contribution sociale de solidarité</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                      class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="solidaritycontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"
                                      min="0" oninput="validity.valid||(value='');"/>
                                </div> 
                          </div>
                          
                            </div>
                           </fieldset>
                        </form>
                      </div>
<!-- location, commission, courtage et vacation section-->
                    <div class="container-fluid"*ngIf="option40Value == 'location, commission, courtage et vacation'&&option38Value">
                        <fieldset>
                          <legend>{{option40Value}}</legend>
                        
                      <table class="table table-striped">
                        <thead>
                          <tr>
                      
                            
          <th>Rubrique location, commission, courtage et vacation</th>
          <th>Total des montants bruts</th>
          <th>Taux</th>
          <th>Montant total des retenues à la source</th>
          <th>Total des montants nets</th>
          
                           
                            
                          </tr>
                          </thead>
                          
                        <tbody>
<!-- location, commission, courtage et vacation (résidents et personnes phyisiques)form--> 
                        <tr id="tvaform" [formGroup]="standardlocationresidentesphysiqueform">
                          <td>
                            <p> Servis aux personnes physiques résidentes </p>
                          </td>
                           <td>  <div class="col-6">
                            
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                            
                      </div></td>
                      <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                        
                  </div></td>
                  
                      </tr>
                      <!-- location, commission, courtage et vacation (résidents et personnes morales)form--> 
                      <tr id="tvaform" [formGroup]="standardlocationresidentesmoraleform">
                        <td>
                          <p> Servis aux personnes morales résidentes </p>
                        </td>
                         <td>  <div class="col-6">
                          
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
                          
                    </div></td>
                    <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                  </div></td>
                  <td><div class="col-6">
                    
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                      
                </div></td>
                
                    </tr>
                     <!-- location, commission, courtage et vacation (non résidents et personnes physiques)form--> 
                     <tr id="tvaform" [formGroup]="standardlocationnonresidentesphysiquesform">
                      <td>
                        <p> Servis aux personnes physiques non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>
                    <!-- location, commission, courtage et vacation (non résidents et personnes morales)form--> 
                    <tr id="tvaform" [formGroup]="standardlocationnonresidentesmoralesform">
                      <td>
                        <p> Servis aux personnes morales non résidentes </p>
                      </td>
                       <td>  <div class="col-6">
                        
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="15%" disabled/>
                        
                  </div></td>
                  <td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
                    
              </div></td>
              
                  </tr>  
                      </table>
                    </fieldset>
  
    
       
  
  

                    </div>
<!-- honoraires section-->
<div class="container-fluid"*ngIf="option40Value == 'honoraire'&&option38Value">
<fieldset>
    <legend>{{option40Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique honoraires</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- honoraires (servis aux personnes physiques et soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquereelform">
    <td>
      <p> Servis aux personnes physiques soumis au régime réel </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- honoraires (servis aux personnes physiques et non soumises au régime réel)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairephysiquenonreelform">
  <td>
    <p> Servis aux personnes physiques non soumises au régime réel </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="10%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- honoraires (servis aux sociétés et aux groupements)form-->                    
<tr id="tvaform" [formGroup]="standardhonorairegroupementsform">
  <td>
    <p> Servis aux aux sociétés et aux groupements </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="3%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
</table>
</fieldset>

      
        </div>
<!-- mont supérieures à 1000 dt section-->
<div class="container-fluid"*ngIf="option40Value == 'montant supérieur à 1000 dt'&&option38Value">
<fieldset>
    <legend>{{option40Value}}</legend>
  
<table class="table table-striped">
  <thead>
    <tr>

      
<th>Rubrique montants supérieures à 1000 dt</th>
<th>Total des montants bruts</th>
<th>Taux</th>
<th>Montant total des retenues à la source</th>
<th>Total des montants nets</th>

     
      
    </tr>
    </thead>
    
  <tbody>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 15%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant15form">
    <td>
      <p> établissements soumis à l'i/s au taux de 15% </p>
    </td>
     <td>  <div class="col-6">
      
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        
  </div></td>
  <td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1%" disabled/>
      
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
    
</div></td>
<td><div class="col-6">

     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
  
</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements soumis à l'i/s au taux de 10%)form-->                    
<tr id="tvaform" [formGroup]="standardmontant10form">
  <td>
    <p> établissements soumis à l'i/s au taux de 10% </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section (établissements individuels et éligible à la réduction des 2/3 des revenus)form-->                    
<tr id="tvaform" [formGroup]="standardmontantindividuelform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="0.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>
<!-- mont supérieures à 1000 dt section  (autre établissements)form-->                    
<tr id="tvaform" [formGroup]="standardmontantautreform">
  <td>
    <p> établissements individuels et éligible à la réduction des 2/3 des revenus </p>
  </td>
   <td>  <div class="col-6">
    
        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="brutammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
      
</div></td>
<td><div class="col-6"  >
                          
                              <input type="text" class="form-control" value="1.5%" disabled/>
    
</div></td>
<td><div class="col-6"  (click)="setThreeNumberDecimal($event)">
                          
                              <input type="text" class="form-control" formControlName="retenueammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
  
</div></td>
<td><div class="col-6">

   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
        class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="netammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>


</div></td>

</tr>  
</table>
</fieldset>    

</div>

                   
                      </mat-tab>
                    
                      <!-- TFP tab -->
                      <mat-tab label="TFP" id="TFPtab"*ngIf="showtfptab===true">
                         <!-- TFP form form-->
                      <h2>TFP</h2>                    
                      <form  [formGroup]="standardtfpform">
                        <fieldset>
                      
                          <div class="row">
                            <div class="col-6" *ngIf="showtfpsalairebrut===true">
                              <div class="form-group">
                                  <label>Total des Salaires Bruts</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)"  formControlName="tfpsalairebrut" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group">
                                <label>Salaires Non Soumis TFP</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="salairesnonsoumistfp" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                          </div>
                            <div class="col-6">
                                <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                    <label>Base De La TFP</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="basetfp" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group" >
                                    <label>Taux</label>
                                    <input type="text" class="form-control" value="2%" disabled/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                  <label>Montant de la TFP du mois</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tfpammountmoisactuel" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>Montant De L'avance</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="avanceammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                          
                          
                          <div class="col-6">
                            <div class="form-group">
                                <label>Report du TFP du mois précédent</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tfpammountreportmoisprecedent" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                <label>TFP à Payer</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tfpapayer" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                <label>TFP à reporter</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber  formControlName="tfpareporter" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                          </div>
                          
                          </div>
                          </fieldset>
                          </form>
                      </mat-tab>
                      <!-- FOPROLOS tab -->
                      <mat-tab label="FOPROLOS" id="FOPROLOStab"*ngIf="showfoprolostab===true">
                      <!-- FOPROLOSform -->
                      <fieldset>
                        <legend> FOPROLOS</legend>                   
                      <form  [formGroup]="standardfoprolosform">
                        
                      
                          <div class="row">
                            
                            <div class="col-6" *ngIf="showfoprolossalairebrut===true">
                              <div class="form-group">
                                  <label>Total des salaires bruts</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)"  formControlName="foprolossalairebrut" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                          <div class="col-6">
                            <div class="form-group">
                                <label>Salaires non soumis au FOPROLOS</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="salairesnonsoumisfoprolos" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                        </div>
                            <div class="col-6">
                                <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                    <label>Base Du FOPROLOS</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="basefoprolos" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Taux</label>
                                    <input type="text" class="form-control" value="1%" disabled/>
                                  </div>
                            </div>
                            
                          <div class="col-6">
                            <div class="form-group">
                                <label>Montant du FOPROLOS</label>
                                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="foprolosammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              </div>
                          </div> 
                          </div>
                        </form>
                          </fieldset>
                          
                      </mat-tab>
                      
                     <!-- TVA tab -->
                     <mat-tab label="TVA" id="TVAtab"*ngIf="showtvatab===true">
                        <!-- 1ère étape de choice-->
                        
                        <div class="input-container">
                          <div class="form-group"> 
                          <label for="retenuelist">Renseigner votre report de TVA du mois précédant :</label>     
                          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                     class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" [(ngModel)]="option64Value" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                                    </div> 
                 </div>
                 
                        
                    
                      <!-- tva collecté form-->
                      <div class="container-fluid">
                      
                      <fieldset>  
                        <legend>TVA Collecté</legend>                 
<form  [formGroup]="standardtvacollecteform">
  <fieldset>

    <div class="row">
      <div class="col-6">
          <div class="form-group">
              <label>Chiffre d'affairs HT</label>
              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="chiffreaffaireht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
            </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <label>Taux</label>
          <input type="text" class="form-control" value="13%" *ngIf="option54Value!='2023'&&activite==='Architectes'||option54Value!='2023'&&activite==='Ingénieurs-conseil'||
          option54Value!='2023'&&activite==='Dessinateurs'||option54Value!='2023'&&activite==='Géomètres'||
          option54Value!='2023'&&activite==='Topographes'||option54Value!='2023'&&activite==='Notaire'||option54Value!='2023'&&activite==='Huissiers notaire'
          ||option54Value!='2023'&&activite==='Interprètes'||activite==='Expert'&&option54Value!='2023'||option54Value!='2023'&&activite==='Avocat'"disabled/>
          
          <input type="text" class="form-control" value="19%" *ngIf="option54Value==='2023'&&activite==='Architectes'
          ||option54Value==='2023'&&activite==='Ingénieurs-conseil'||option54Value==='2023'&&activite==='Dessinateurs'||
          option54Value==='2023'&&activite==='Géomètres'||option54Value==='2023'&&activite==='Topographes'||option54Value==='2023'&&activite==='Notaire'
          ||option54Value==='2023'&&activite==='Huissiers notaire'||option54Value==='2023'&&activite==='Interprètes'||
          activite==='Expert'&&option54Value==='2023'||option54Value==='2023'&&activite==='Avocat'||activite==='Consultant'"disabled/>
          
          <input type="text" class="form-control" value="7%" *ngIf="activite==='Médecin'||activite==='Infirmier'||activite==='Masseur'||activite==='Physiothérapeute'||
          activite==='Ergothérapeute'||activite==='Psychomotricien'||activite==='Diététicien'||activite==='Orthophoniste'||activite==='Orthoptiste'
          ||activite==='Sage-femmes'"disabled/>
      
        </div>
      </div>
      <div class="col-6">
        <div class="form-group"(click)="setThreeNumberDecimal($event)">
            <label>Montant TVA</label>
            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
          </div>
    </div>
    <div class="col-6">
      <div class="form-group">
          <label>Chiffre d'affaires TTC</label>
          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
        </div>
    </div>
    
    </div>
    </fieldset>
    </form>
  </fieldset>
   
  </div>
    <!-- 1ère étape de décision-->
    <div title="indiquer votre choix"class="col-6">
      <div class="form-group">
      <label for="choice" style="color: red;"> Avez vous d'autres revenus accessoires soumis à la TVA:</label>
      <div id="block9"><input type="checkbox"  class="input-field" id="choice8" (click)="myFunction22()"[(ngModel)]="option170Value" name="choice">Oui</div>  
      <div id="block10"><input type="checkbox"  class="input-field" id="choice9" (click)="myFunction23()"[(ngModel)]="option63Value" name="choice">Non</div>     
      
      </div>
      </div>
       
                      <div class="users-grid" style="overflow-x:hidden;overflow-y: auto;height:auto;"*ngIf="option170Value">
                        <!-- location à usage d'habitation meublé form-->
                        
                        <fieldset>
                          <legend>Autres revenus accessoires soumis à la TVA</legend>
                        <table class="table table-striped" *ngIf="option170Value">
                          <thead>
                            <tr>
                        
                              
            <th>Type TVA</th>
            <th>Montant Hors Taxes</th>
            <th>Taux</th>
            <th>Montant TVA</th>
            <th>Montant TTC</th>
            
                             
                              
                            </tr>
                            </thead>
                            
                          <tbody>
                          <tr id="tvaform" [formGroup]="standardlocationusagehabitationmeubleform">
                            <td>
                              <p> TVA sur location à usage d'habitation meublé</p>
                            </td>
                             <td>  <div class="col-6">
                              
                                  
                                   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                
                          </div></td>
                          <td><div class="col-6">
                            
                                
                                <input type="text" class="form-control" value="19%" disabled/>
                              
                        </div></td>
                        <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
                          
                              
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6">
                        
                            
                             <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                      </div></td>
                    
                        </tr>
                        <!-- location à usage commercial form-->
                        <tr id="tvaform" [formGroup]="standardlocationusagecommercialform">
                          <td>
                            <p>TVA sur location à usage commercial, industriel, professionnel et artisanal</p>
                          </td>
                           <td>  <div class="col-6">
                            
                                
                                 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6">
                          
                              
                              <input type="text" class="form-control" value="19%" disabled/>
                            
                      </div></td>
                      <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
                        
                            
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                          
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                    </div></td>
                  
                      </tr>
                      
                <!-- opérations de lotissement   -->
                <tr id="tvaform" [formGroup]="standardoperationlotissementform">
                  <td>
                    <p>TVA sur opérations de lotissement</p>
                  </td>
                   <td>  <div class="col-6">
                    
                        
                         <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                      
                </div></td>
                <td><div class="col-6">
                  
                      
                      <input type="text" class="form-control" value="19%" disabled/>
                    
              </div></td>
              <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
                
                    
                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                  
            </div></td>
            <td><div class="col-6">
              
                  
                   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                
            </div></td>
          
              </tr>
              <!-- intérêts perçus    -->
              <tr id="tvaform" [formGroup]="standardinteretpercueform">
                <td>
                  <p>TVA sur intérêts perçus</p>
                </td>
                 <td>  <div class="col-6">
                  
                      
                       <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                    
              </div></td>
              <td><div class="col-6">
                
                    
                    <input type="text" class="form-control" value="19%" disabled/>
                  
            </div></td>
            <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
              
                  
                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                
          </div></td>
          <td><div class="col-6">
            
                
                 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
              
          </div></td>
        
            </tr>
             <!-- autre tva special    -->
             <tr id="tvaform" [formGroup]="standardautretvaspecialform">
              <td>
                <p>Autre TVA</p>
              </td>
               <td>  <div class="col-6">
                
                    
                     <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                  
            </div></td>
            <td><div class="col-6">
              
                  <div class="form-group">
                  <input type="text" (keypress)="keyPressNumbers($event)" class="form-control" formControlName="tauxpercent"/>
                  <div class="input-group-append">
                    <span class="input-group-text">%</span>
                  </div>
                </div>
          </div></td>
          <td class="hidden"><div class="col-6">
              
                  
            <input type="text" class="form-control" formControlName="taux"/>
          
    </div></td>
          <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
            
                
                <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tvaammount" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
              
        </div></td>
        <td><div class="col-6">
          
              
               <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="ammountttc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
            
        </div></td>
      
          </tr>
          <!-- Somme Autre revenus soumis à la TVA    -->
          <tr id="tvaform">
            <td>
              <p>Total des autres revenus soumis à la TVA</p>
            </td>
            
             <td>  <div class="col-6">
              
                  
                   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                         disabled     class="form-control"appTwoDigitDecimaNumber (change)="setThreeNumberDecimal($event)" [(ngModel)]="option71Value" placeholder="Total Montant HT"/>
                
          </div></td>
          
        <td><div class="col-6">
            
                
          <input type="text" class="form-control"  value="19%" disabled/>
        
  </div></td>
        <td><div class="col-6"(click)="setThreeNumberDecimal($event)">
          
              
              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
              disabled     class="form-control"appTwoDigitDecimaNumber (change)="setThreeNumberDecimal($event)" [(ngModel)]="option72Value" placeholder="Total TVA"/>
            
      </div></td>
      
    
        </tr>
                          </tbody>
                        
                        </table>
                      </fieldset>

                      
                      </div>
                      <fieldset>  
                        <legend>TVA récupérable</legend>
                        <table class="table table-striped" >
                          
                          <col>
                          <colgroup span="2"></colgroup>
                          <colgroup span="2"></colgroup>
                          <thead>
                          <tr>
                            <td rowspan="2"></td>
                            <th colspan="2" scope="colgroup">Achats locaux</th>
                            <th colspan="2" scope="colgroup">Achats importés</th>
                          </tr>
                          <tr>
                            <th scope="col">Hors Taxes</th>
                            <th scope="col">TVA</th>
                            <th scope="col">Hors Taxes</th>
                            <th scope="col">TVA</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr id="tvaform" [formGroup]="standardtvarecuperableequipementform">
                            <th scope="row">Achat Equipements</th>
                             <td>  <div class="col-6">
                              
                                  
                                   <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                              class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                
                          </div></td>
                          <td><div class="col-6">
                              
                                  
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                       class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxtva" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                         
                    </div></td>
                        <td><div class="col-6">
                          
                              
                              <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatimporteht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6">
                        
                            
                             <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatimportetva" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                      </div></td>
                    
                        </tr>
                         
                        <tr id="tvaform" [formGroup]="standardtvarecuperableautreachatform">
                          <th scope="row">Autre Achats</th>
                           <td>  <div class="col-6">
                            
                                
                                 <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                            class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                              
                        </div></td>
                        <td><div class="col-6">
                            
                                
                          <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                     class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxtva" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                       
                    </div></td>
                      <td><div class="col-6">
                        
                            
                            <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatimporteht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                          
                    </div></td>
                    <td><div class="col-6">
                      
                          
                           <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatimportetva" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                        
                    </div></td>
                    
                      </tr>
                      <tr id="tvaform" [formGroup]="standardtvarecuperableimmobilierform">
                        <th scope="row">Achats Immobiliers</th>
                         <td>  <div class="col-6">
                          
                              
                               <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                          class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                            
                      </div></td>
                      <td><div class="col-6">
                          
                              
                        <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                                   class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="achatlocauxtva" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                     
                    </div></td>
                    
                    
                    </tr>
                          </tbody>
                        
                        </table>
                    </fieldset>
                     </mat-tab>
                     <mat-tab label="FSSP" id="FSSPtab"*ngIf="showfsptab===true">
                      <fieldset>
                        <legend>FSSP</legend>                   
                      <form  [formGroup]="standardfspform">
                        
                      
                          <div class="row">
                            <div class="col-6">
                                <div class="form-group" (click)="setThreeNumberDecimal($event)">
                                    <label>Chiffre d'affaire HT</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="chiffreaffaireht" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>taux</label>
                                    <input type="text" class="form-control" value="1%" disabled/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                  <label>Montant de la Contribution</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="montantcontribution" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                         
                          </div>
                        </form>
                          </fieldset>
                    </mat-tab>
                     <mat-tab label="Droit De Timbre" id="Timbretab"*ngIf="showtimbretab===true">
                      <fieldset>
                        <legend> Droit de timbre</legend>                   
                      <form  [formGroup]="standarddroittimbreform">
                        
                      
                          <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Nomre de notes d'honoraires</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber  formControlName="nombrenotehonoraire" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6"(click)="setThreeNumberDecimal($event)">
                                <div class="form-group">
                                    <label>Droit de timbre unitaire</label>
                                    <input type="text" class="form-control" formControlName="taux"/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group">
                                  <label>total du droit de timbre</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="totaldroittimbre" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                         
                          </div>
                        </form>
                          </fieldset>
                     </mat-tab>
                     <mat-tab label="TCL" id="TCLtab"*ngIf="showtcltab===true">
                      <fieldset>
                        <legend>TCL</legend>                   
                      <form  [formGroup]="standardtclform">
                        
                      
                          <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Chiffre d'affaire TTC</label>
                                    <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                    class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="chiffreaffairettc" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>taux</label>
                                    <input type="text" class="form-control" value="0.2%" disabled/>
                                  </div>
                            </div>
                            <div class="col-6">
                              <div class="form-group"(click)="setThreeNumberDecimal($event)">
                                  <label>TCL à payer</label>
                                  <input type="text" onkeyup="value=value.replace(/[^0-9^\.]+/g,'').replace('.','$#$').replace(/\./g,'').replace('$#$','.').replace(/^0+/, '')" 
                                  class="form-control"appTwoDigitDecimaNumber (blur)="setThreeNumberDecimal($event)" formControlName="tclapayer" placeholder="Montant en DT et à 3 chiffres après la virgule"/>
                                </div>
                          </div>
                         
                          </div>
                        </form>
                          </fieldset>
                    </mat-tab>
                    
                    </mat-tab-group>
                    
                   </div>
                  </fieldset> 
 </div>
</body>